<!doctype html>
<html>
<head>
  <meta charset="utf-8">

  <link rel="stylesheet" href="css/topcoat-desktop-dark.min.css"/>
  <link  id="hostStyle" rel="stylesheet" href="css/style.css"/>
  <link  id="scrollbars" rel="stylesheet" href="css/scrollbars.css"/>

  <title></title>

</head>
  <body class="hostElt">

  <!-- @fileoverview Design Magic main.js (RiotJS ver) -->

  <app></app>

  <script src="js/libs/CSInterface.js"></script>
  <script src="js/themeManager.js"></script>

  <script src="js/libs/lodash.js"></script>
  <script src="js/libs/q.js"></script>

  <script>
    window.csInterface = new CSInterface();
    window.localeStrings = window.csInterface.initResourceBundle();
    window.extensionId =  window.csInterface.getExtensionID();
    window.applicationId = window.csInterface.getApplicationID();

    //Modules
    window.http        = require('http'),
    window.https        = require('https'),
    window.JSXRunner   = require("../common/JSXRunner"),
    window.Strings     = require("./js/LocStrings");

    themeManager.init();
  </script>

  <!-- riot tags -->
  <script src="mixins/config.js" type="riot/tag"></script>
  <script src="mixins/analytics.js" type="riot/tag"></script>
  <script src="mixins/psEventCallback.js" type="riot/tag"></script>
  <script src="mixins/validation.js" type="riot/tag"></script>

  <script src="tags/app.tag" type="riot/tag"></script>
  <script src="tags/validation.tag" type="riot/tag"></script>
  <script src="tags/config.tag" type="riot/tag"></script>
  <script src="tags/tools.tag" type="riot/tag"></script>
  <script src="tags/header.tag" type="riot/tag"></script>
  <script src="tags/footer.tag" type="riot/tag"></script>

  <script src="js/libs/riot+compiler.min.js"></script>

  <script>

    location.hash = '';
    riot.mount('app')
    riot.route.start(true);

    /**
     * raw html insert
     * @param {{category:string, prop:string}} opts
     *
     * Strings.Pr_TOOLS_ATTENTION -> <b category="TOOLS" prop="ATTENTION"></b>
     */
    riot.tag('string', '', function(opts) {
        this.root.innerHTML = Strings['Pr_' + opts.category.toUpperCase() + '_' + _.snakeCase(opts.prop).toUpperCase()];
    });

  </script>
  </body>
</html>
